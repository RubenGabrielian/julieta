import{u as c,r as h,b as m,j as e,L as t,a as x}from"./app-BPHxZrAS.js";function u({posts:n}){const{flash:i}=c().props,[a,r]=h.useState(null),{post:d}=m(),l=(s,o)=>{confirm(`Are you sure you want to delete "${o}"?`)&&(r(s),d(`/admin/delete-posts/${s}`,{onFinish:()=>r(null)}))};return e.jsxs(e.Fragment,{children:[e.jsx(Head,{title:"Admin - Posts"}),e.jsxs("div",{className:"admin-dashboard",children:[e.jsxs("aside",{className:"admin-sidebar",children:[e.jsx("div",{className:"admin-sidebar-header",children:e.jsx("h1",{className:"admin-logo",children:"Admin Panel"})}),e.jsxs("nav",{className:"admin-nav",children:[e.jsxs(t,{href:"/admin/dashboard",className:"admin-nav-item",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M2 10L10 2L18 10M2 17.5H7.5V12.5H12.5V17.5H18M2 10V18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Dashboard"]}),e.jsxs(t,{href:"/admin/posts",className:"admin-nav-item active",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 12H15M9 16H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L18.7071 8.70711C18.8946 8.89464 19 9.149 19 9.41421V19C19 20.1046 18.1046 21 17 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Posts"]}),e.jsxs(t,{href:"/admin/posts/create",className:"admin-nav-item",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 2V18M2 10H18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"New Post"]}),e.jsxs(t,{href:"/blog",className:"admin-nav-item",target:"_blank",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4 4H16V16H4V4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8 8H12M8 12H12M6 8H6.01M6 12H6.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),"View Blog"]})]}),e.jsx("div",{className:"admin-sidebar-footer",children:e.jsxs("button",{onClick:()=>x.post("/admin/logout"),className:"admin-logout-btn",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H7.5M13.3333 14.1667L17.5 10M17.5 10L13.3333 5.83333M17.5 10H7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Logout"]})})]}),e.jsxs("main",{className:"admin-main",children:[e.jsx("header",{className:"admin-header",children:e.jsxs("div",{className:"admin-header-content",children:[e.jsx("h2",{className:"admin-title",children:"Posts Management"}),e.jsxs(t,{href:"/admin/posts/create",className:"admin-create-btn",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8 2V14M2 8H14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Create New Post"]})]})}),e.jsxs("div",{className:"admin-content",children:[i?.success&&e.jsx("div",{className:"admin-alert admin-alert-success",children:i.success}),e.jsxs("div",{className:"admin-table-card admin-table-card-full",children:[e.jsxs("div",{className:"admin-table-header",children:[e.jsx("h3",{className:"admin-table-title",children:"All Posts"}),e.jsxs("span",{className:"admin-table-count",children:[n?.length||0," total"]})]}),e.jsx("div",{className:"admin-table-container",children:n&&n.length>0?e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Content Preview"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Updated"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"table-cell-primary",children:s.title})}),e.jsx("td",{children:e.jsxs("div",{className:"table-cell-primary",children:[s.content.substring(0,60),s.content.length>60?"...":""]})}),e.jsxs("td",{children:[e.jsx("div",{className:"table-cell-primary",children:new Date(s.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsx("div",{className:"table-cell-secondary",children:new Date(s.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("td",{children:[e.jsx("div",{className:"table-cell-primary",children:new Date(s.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsx("div",{className:"table-cell-secondary",children:new Date(s.updated_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{children:e.jsxs("div",{className:"admin-action-buttons",children:[e.jsx(t,{href:`/posts/${s.id}`,className:"admin-action-btn admin-action-view",target:"_blank",title:"View",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8 3C4.66667 3 2 5.66667 2 9C2 12.3333 4.66667 15 8 15C11.3333 15 14 12.3333 14 9C14 5.66667 11.3333 3 8 3ZM8 11.6667C6.9 11.6667 6 10.7667 6 9.66667C6 8.56667 6.9 7.66667 8 7.66667C9.1 7.66667 10 8.56667 10 9.66667C10 10.7667 9.1 11.6667 8 11.6667Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx(t,{href:`/admin/posts/${s.id}/edit`,className:"admin-action-btn admin-action-edit",title:"Edit",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M11.3333 2.00001C11.5084 1.8249 11.7163 1.68603 11.9457 1.59128C12.1751 1.49653 12.4218 1.44775 12.6713 1.44775C12.9208 1.44775 13.1676 1.49653 13.397 1.59128C13.6264 1.68603 13.8343 1.8249 14.0093 2.00001C14.1844 2.17511 14.3233 2.38303 14.418 2.61242C14.5128 2.84182 14.5616 3.08857 14.5616 3.33801C14.5616 3.58745 14.5128 3.8342 14.418 4.0636C14.3233 4.293 14.1844 4.50092 14.0093 4.67601L5.00933 13.676L1.33333 14.6667L2.32333 11L11.3333 2.00001Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("button",{onClick:()=>l(s.id,s.title),className:"admin-action-btn admin-action-delete",disabled:a===s.id,title:"Delete",children:a===s.id?e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"spinner",children:e.jsxs("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"31.416",children:[e.jsx("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416;0 31.416",repeatCount:"indefinite"}),e.jsx("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416;-31.416",repeatCount:"indefinite"})]})}):e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M2 4H14M12.6667 4V13.3333C12.6667 14 12 14.6667 11.3333 14.6667H4.66667C4 14.6667 3.33333 14 3.33333 13.3333V4M5.33333 4V2.66667C5.33333 2 6 1.33333 6.66667 1.33333H9.33333C10 1.33333 10.6667 2 10.6667 2.66667V4M6.66667 7.33333V11.3333M9.33333 7.33333V11.3333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]},s.id))})]}):e.jsxs("div",{className:"admin-empty-state",children:[e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 6V18M6 12H18",stroke:"#05435C40",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("p",{children:"No posts yet"}),e.jsx(t,{href:"/admin/posts/create",className:"admin-empty-action",children:"Create your first post"})]})})]})]})]})]})]})}export{u as default};
