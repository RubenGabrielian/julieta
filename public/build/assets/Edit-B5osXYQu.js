import{b as p,j as e,L as t,a as u}from"./app-BK08oJY5.js";import{R as x}from"./RichTextEditor-DciAWYlB.js";function f({blogPost:s}){const{data:n,setData:r,post:d,processing:l,errors:i}=p({title:s.title||"",content:s.content||"",image:null,mp3:null,_method:"POST"}),m=a=>{a.preventDefault(),d(`/admin/edit-posts/${s.id}`,{forceFormData:!0})},c=a=>{const o=a.target.files[0];o&&r("mp3",o)},h=a=>{const o=a.target.files[0];o&&r("image",o)};return e.jsxs("div",{className:"admin-dashboard",children:[e.jsxs("aside",{className:"admin-sidebar",children:[e.jsx("div",{className:"admin-sidebar-header",children:e.jsx("h1",{className:"admin-logo",children:"Admin Panel"})}),e.jsxs("nav",{className:"admin-nav",children:[e.jsxs(t,{href:"/admin/dashboard",className:"admin-nav-item",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M2 10L10 2L18 10M2 17.5H7.5V12.5H12.5V17.5H18M2 10V18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Dashboard"]}),e.jsxs(t,{href:"/admin/posts",className:"admin-nav-item active",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 12H15M9 16H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L18.7071 8.70711C18.8946 8.89464 19 9.149 19 9.41421V19C19 20.1046 18.1046 21 17 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Posts"]}),e.jsxs(t,{href:"/admin/posts/create",className:"admin-nav-item",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 2V18M2 10H18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"New Post"]}),e.jsxs(t,{href:"/blog",className:"admin-nav-item",target:"_blank",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4 4H16V16H4V4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8 8H12M8 12H12M6 8H6.01M6 12H6.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),"View Blog"]})]}),e.jsx("div",{className:"admin-sidebar-footer",children:e.jsxs("button",{onClick:()=>u.post("/admin/logout"),className:"admin-logout-btn",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H7.5M13.3333 14.1667L17.5 10M17.5 10L13.3333 5.83333M17.5 10H7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Logout"]})})]}),e.jsxs("main",{className:"admin-main",children:[e.jsx("header",{className:"admin-header",children:e.jsx("div",{className:"admin-header-content",children:e.jsx("h2",{className:"admin-title",children:"Edit Post"})})}),e.jsx("div",{className:"admin-content",children:e.jsxs("div",{className:"admin-form-card",children:[e.jsx(t,{href:"/admin/posts",className:"admin-back-link",children:"← Back to Posts"}),e.jsxs("form",{onSubmit:m,className:"admin-form",children:[e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{htmlFor:"title",className:"admin-form-label",children:"Title"}),e.jsx("input",{type:"text",id:"title",value:n.title,onChange:a=>r("title",a.target.value),className:`admin-form-input ${i.title?"error":""}`,placeholder:"Enter post title"}),i.title&&e.jsx("span",{className:"admin-form-error",children:i.title})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{htmlFor:"content",className:"admin-form-label",children:"Content"}),e.jsx(x,{value:n.content,onChange:a=>r("content",a),placeholder:"Start writing your post content here...",error:!!i.content}),i.content&&e.jsx("span",{className:"admin-form-error",children:i.content})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{htmlFor:"image",className:"admin-form-label",children:"Thumbnail Image (Optional)"}),s.image&&e.jsxs("div",{className:"admin-current-file",children:[e.jsx("span",{children:"Current image:"}),e.jsx("img",{src:`/storage/${s.image}`,alt:s.title,className:"admin-image-preview"})]}),e.jsxs("div",{className:"admin-file-upload",children:[e.jsx("input",{type:"file",id:"image",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:h,className:"admin-file-input"}),e.jsxs("label",{htmlFor:"image",className:"admin-file-label",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4.16667 3.33333H15.8333C16.2936 3.33333 16.6667 3.70643 16.6667 4.16667V15.8333C16.6667 16.2936 16.2936 16.6667 15.8333 16.6667H4.16667C3.70643 16.6667 3.33333 16.2936 3.33333 15.8333V4.16667C3.33333 3.70643 3.70643 3.33333 4.16667 3.33333Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M7.5 9.16667C8.42047 9.16667 9.16667 8.42047 9.16667 7.5C9.16667 6.57953 8.42047 5.83333 7.5 5.83333C6.57953 5.83333 5.83333 6.57953 5.83333 7.5C5.83333 8.42047 6.57953 9.16667 7.5 9.16667Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M16.6667 11.6667L13.3333 8.33333L6.66667 15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.image?n.image.name:s.image?"Replace thumbnail image":"Choose thumbnail image"]}),n.image&&e.jsx("button",{type:"button",onClick:()=>r("image",null),className:"admin-file-remove",children:"×"})]}),i.image&&e.jsx("span",{className:"admin-form-error",children:i.image})]}),e.jsxs("div",{className:"admin-form-group",children:[e.jsx("label",{htmlFor:"mp3",className:"admin-form-label",children:"MP3 Audio File (Optional)"}),s.mp3&&e.jsxs("div",{className:"admin-current-file",children:[e.jsxs("span",{children:["Current file: ",s.mp3]}),e.jsxs("audio",{controls:!0,className:"admin-audio-preview",children:[e.jsx("source",{src:`/storage/${s.mp3}`,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}),e.jsxs("div",{className:"admin-file-upload",children:[e.jsx("input",{type:"file",id:"mp3",accept:"audio/mpeg,audio/mp3,.mp3",onChange:c,className:"admin-file-input"}),e.jsxs("label",{htmlFor:"mp3",className:"admin-file-label",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 2.5V12.5M6.66667 7.5H13.3333M2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H15.8333C16.2754 2.5 16.6993 2.67559 17.0118 2.98816C17.3244 3.30072 17.5 3.72464 17.5 4.16667V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),n.mp3?n.mp3.name:s.mp3?"Replace MP3 file":"Choose MP3 file"]}),n.mp3&&e.jsx("button",{type:"button",onClick:()=>r("mp3",null),className:"admin-file-remove",children:"×"})]}),i.mp3&&e.jsx("span",{className:"admin-form-error",children:i.mp3})]}),e.jsxs("div",{className:"admin-form-actions",children:[e.jsx("button",{type:"submit",disabled:l,className:"admin-form-submit",children:l?"Updating...":"Update Post"}),e.jsx(t,{href:"/admin/posts",className:"admin-form-cancel",children:"Cancel"})]})]})]})})]})]})}export{f as default};
